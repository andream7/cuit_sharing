CREATE OR REPLACE PACKAGE PKG_TEST
AS
TYPE MYRCTYPE IS REF CURSOR; /*游标*/
/*添加商品的存储过程*/
    PROCEDURE TEST_ADDGOODS(P_GOODSID    IN NUMBER,
                                  P_GOODSNAME  IN VARCHAR2,
                                  P_GOODSPRICE IN NUMBER,
                                  P_GOODSTYPE IN VARCHAR2);
    /*统计商品价格大于400的存储过程*/
    PROCEDURE TEST_GETCOUNT( P_GOODSPRICE IN NUMBER,GOODSCOUNT OUT NUMBER);
    /*查询商品信息的存储过程，返回结果集*/
PROCEDURE TEST_GETGOODS (P_GOODSPRICE NUMBER, P_RC OUT MYRCTYPE);
END PKG_TEST;
/*包体的创建*/
CREATE OR REPLACE PACKAGE BODY PKG_TEST
	AS
/*添加商品的存储过程*/
	PROCEDURE TEST_ADDGOODS(P_GOODSID    IN NUMBER,
	                        P_GOODSNAME  IN VARCHAR2,
	                        P_GOODSPRICE IN NUMBER,
	                        P_GOODSTYPE IN VARCHAR2) IS
		BEGIN
	  		INSERT INTO GOODSINFO(GOODSID, GOODSNAME, GOODSPRICE, GOODSTYPE) 
	  		VALUES  (P_GOODSID, P_GOODSNAME, P_GOODSPRICE, P_GOODSTYPE);
	END TEST_ADDGOODS;
	/*统计商品价格大于400的存储过程*/
	PROCEDURE TEST_GETCOUNT( P_GOODSPRICE IN NUMBER,GOODSCOUNT OUT NUMBER) IS 
		BEGIN   
			SELECT COUNT(*) INTO GOODSCOUNT FROM GOODSINFO  WHERE GOODSPRICE > P_GOODSPRICE; 
	END TEST_GETCOUNT;
	/*查询商品信息的存储过程，返回结果集*/
	PROCEDURE TEST_GETGOODS(P_GOODSPRICE NUMBER, P_RC OUT MYRCTYPE) IS
	    BEGIN
	       OPEN P_RC FOR
	       SELECT GOODSID, GOODSNAME, GOODSPRICE, GOODSTYPE
	       FROM GOODSINFO WHERE GOODSPRICE > P_GOODSPRICE ;
	END TEST_GETGOODS;
END PKG_TEST;
