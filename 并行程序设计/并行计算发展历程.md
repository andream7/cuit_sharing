# 并行计算之前的计算机
提升计算性能是计算技术不断追求的目标，用于提升单处理器计算机系统的计算速度的常用技术手段如下：

1. 提升处理器的字长，从最初的4位到64位。代表性产品有20世纪70年代的4位微处理器Intel 4004；8位处理器Intel 8008；20世纪80年代的16位处理器Intel 80286；32位处理器Intel 80386/486/Pentium；21世纪的64位处理器。

2. 提高处理器芯片集成度。摩尔定律：半导体厂商能够集成在芯片中的晶体管数量大约18-24月翻一倍，其计算性能也翻一倍。在计算技术发展的前几十年确实遵守这个规律。

3. 提升处理器主频。主频越搞，指令执行时间越短，计算性能相应提高。从Pentium开始的60MHz到如今的5GHz。

4. 改进处理器微架构。指令集并行技术（ILP）是单处理器并行计算的杰出设计思想，实现指令级并行最主要的体系结构技术就是流水线技术。

2004年以后，随着集成度的提高和频率的提升，单处理器的性能接近极限。芯片集成度受到半导体器件制造工艺的限制，具体来说沟道长度收到硅原子直径限制，热力学限制，量子力学限制，理论极限是1nm，而目前台积电能做到3nm。晶体管单兵极限是1nm，而芯片是大量晶体管组成的，需要考虑集成密度，时钟频率，功耗，布线等问题。基于硅晶体管的芯片，单处理器，在硬件层面上确实逼近极限了。

不过计算性能的提高还可以挖掘多核和软件层面，硬件提供的性能，软件并不是百分百使用，这也是并行计算出现并蓬勃发展的原因。
# 并行计算
并行计算是一种计算技术，它将一个大型任务分解成若干个小任务，并将这些小任务分发到不同的处理器上，同时进行处理，从而实现快速的计算处理。按照粒度划分为：数据级并行，指令级并行，多核，分布式等。本门课程教学的OpenMP是共享内存系统的并行，MPI是分布式内存系统的并行。
# 数据级并行的发展
单指令多数据（SIMD）指令集，一组指令操作多组数据，包括SSE指令集，AVX指令集等。对于计算性能的发展有帮助，但是受限于应用不一定支持SIMD，帮助有限。
# 指令级并行的发展
包括基本流水线调度，循环展开，寄存器换名，指令动态调度，动态分支预测，前瞻，多指令流出等技术，一直在发展，但是对于并行计算性能的提升有限，不能支撑起摩尔定律。
# 多核并行的发展
多核绕开了单核性能的极限，极大地增加了计算性能。

发展至今，多核的主要技术是：简化单核结构，异构多核，增加核心数量，芯片片上结构。

以Intel产品为例：2005年，Intel宣布放弃提升追求单处理器性能的战略，转向多处理器架构。2006年双核Pentium D，2007年4核Core 2 Quad，2008~2010年的Core i5和i7系列。服务器端有Xeon E5系列4~12核处理器，Xeon E7系列6-10核处理器。

以处理器类型为例：通用型处理器有CPU和GPU，专用型处理器有TPU（谷歌的张量处理器），NPU（神经网络处理器）等。

以上是民用处理器的发展，还有国家级多核计算机，即超算

国外超算史：60年代及之前，IBM，DEC等各大公司发展，包括IBM的FORTRAN编程语言。70-80年代，Cray公司使用向量处理器，繁荣一时。90年代，大规模并行处理（MPP）大爆发，处理器个数数量级增长，MPP架构非常相似现在的集群，其最大差异是组件单独定制，同时催生了一项沿用至今的技术-消息传递接口（MPI）。21世纪，集群飞速发展，组件不再单独定制。

国内超算史：21世纪，国防科技大学设计的天河一号，天河二号，国家并行计算机工程技术研究中心研制的神威·太湖之光。在超算建设方面，国内技术不输国外。但是，在并行软件方面，有较大差距，超算中心资源闲置率高，各大企业选择自建超算平台而不用国家超算中心。
# 分布式并行的发展
第一阶段：系统的应用和数据库都放在一台服务器上

第二阶段：应用服务器和数据库服务器分离

第三阶段：应用服务器遇到瓶颈，使用集群（集群指多个服务器处理相同的事）

第四阶段：数据库服务器遇到瓶颈，数据库读写分离，以及主从数据库的数据同步，数据源的选择

第五阶段：读数据库，对模糊查询的性能不好，使用搜索引擎，包括索引的构建等

第六阶段：引入缓存机制缓解数据库的压力，包括redis，memcache作为应用层的缓存；某些场景用mongDB替代关系型数据库

第七阶段：数据库的数据拆分，包括不同业务数据拆分到不同数据库，同一业务数据拆分到不同数据库（某些业务数据量巨大，达到单数据库极限）

第八阶段：应用按照业务拆分不同服务，服务之间通信有session，http等